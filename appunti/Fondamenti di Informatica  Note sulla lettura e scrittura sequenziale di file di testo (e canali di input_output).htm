<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>Fondamenti di Informatica: Note sulla lettura e scrittura sequenziale di file di testo (e canali di input/output)</title>
	<base href="http://www.dis.uniroma1.it/~fi/" />
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
	<meta name="keywords" content="programmazione Python fondamenti informatica " />
	<meta name="description" content="" />
	<link rel="stylesheet" type="text/css" href="css/corporate.css" />
	<link rel="stylesheet" type="text/css" href="css/print.css" media="print" />
	<link rel="icon" href="images/favicon.ico" type="image/x-icon" />
	<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
	<link rel="alternate" type="application/rss+xml" title="Fondamenti di Informatica: revisions for FileSequenziali (RSS)" href="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/revisions.xml" />
	<link rel="alternate" type="application/rss+xml" title="Fondamenti di Informatica: recently edited pages (RSS)" href="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/recentchanges.xml" />
</head>
<body  >
<div class="header">

<h2>Fondamenti di Informatica I - A.A. 2013-2014</h2>

<h3>Corso di Laurea in Ingegneria Informatica e Automatica</h3>

<!--	<h2>Fondamenti di Informatica : <a href="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/backlinks" title="Display a list of pages linking to FileSequenziali">FileSequenziali</a></h2>
-->
	<a href="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=HomePage">HomePage</a> |
	<a href="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=AvvisiCorso">Avvisi</a> | <a href="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=InfoAuto">Canali</a> | <a href="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=ProgrammaCorso">Programma</a> | <a href="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=TestiCorso">Materiale didattico</a> | <a href="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=EserciziCorso">Esercitazioni</a> | <a href="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=EsamiCorso">Esami</a> | <a href="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=anniprecedenti">Anni Precedenti (Java)</a> | <a href="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=UserSettings">Login</a> 	
</div>

<!--starting page content-->
<div class="page">
<h4>Note sulla lettura e scrittura sequenziale di file di testo (e canali di input/output)</h4>

<br />
Questa pagina propone alcuni semplici schemi per leggere e scrivere file di testo in modo sequenziale. Per altri modi e una trattazione più ampia ed esaustiva, si faccia riferimento alla sezione <a class="ext" href="http://java.sun.com/docs/books/tutorial/essential/io/streams.html">I/O Streams del Java Tutorial</a><span class="exttail">&#8734;</span> e in particolare al paragrafo Line-Oriented I/O della sezione <a class="ext" href="http://java.sun.com/docs/books/tutorial/essential/io/charstreams.html">Character Streams</a><span class="exttail">&#8734;</span>.<br />
<br />
<h5>Lettura sequenziale di file di testo (e canali di input)</h5>

<br />
<strong>Passo 1: apertura file in lettura</strong><br />
<br />
Per leggere un file di testo avente come nome la stringa <tt>s</tt>, creare innanzitutto un oggetto <tt><a href="http://java.sun.com/javase/6/docs/api/java/io/FileReader.html">java.io.FileReader</a></tt> come segue (dopo aver importato <tt>java.io.*</tt>):<br />
<br />
<!--start GeSHi-->
<div class="code" style="font-family: monospace;"><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AFileReader+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">FileReader</span></a> f;<br />
<br />
<span class="kw2">try</span> <span class="br0">&#123;</span><br />
&nbsp; &nbsp; f = <span class="kw2">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AFileReader+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">FileReader</span></a><span class="br0">&#40;</span>s<span class="br0">&#41;</span>;<br />
<span class="br0">&#125;</span><br />
<span class="kw2">catch</span><span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AFileNotFoundException+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">FileNotFoundException</span></a> e<span class="br0">&#41;</span><span class="br0">&#123;</span><br />
&nbsp; &nbsp; <span class="co1">// errore: non è possibile aprire il file s</span><br />
<span class="br0">&#125;</span></div>
<!--end GeSHi-->
<form action="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/grabcode" method="post">
<input type="hidden" name="wakka" value="FileSequenziali/grabcode" />
<input type="submit" class="grabcode" name="save" value="Grab" title="Download" /><input type="hidden" name="filename" value="" /><input type="hidden" name="code" value="FileReader+f%3B%0A%0Atry+%7B%0A%09f+%3D+new+FileReader%28s%29%3B%0A%7D%0Acatch%28FileNotFoundException+e%29%7B%0A%09%2F%2F+errore%3A+non+%E8+possibile+aprire+il+file+s%0A%7D" /></form>
<br />
Si noti che il costruttore <tt>FileReader(s)</tt> lancia una eccezione verificata <tt>FileNotFoundException</tt> se non è possibile aprire il file <tt>s</tt>.<br />
<br />
<strong>Passo 2: creazione canale di lettura associato al file da leggere</strong><br />
<br />
Poiché non è possibile usare direttamente l'oggetto <tt>FileReader f</tt> per leggere dal file, bisogna creare un secondo oggetto di classe <tt><a href="http://java.sun.com/javase/6/docs/api/java/io/BufferedReader.html">java.io.BufferedReader</a></tt> passando <tt>f</tt> al costruttore <tt>BufferedReader</tt> in modo da creare un canale di lettura associato al file.<br />
<br />
<!--start GeSHi-->
<div class="code" style="font-family: monospace;"><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3ABufferedReader+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">BufferedReader</span></a> b = <span class="kw2">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3ABufferedReader+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">BufferedReader</span></a><span class="br0">&#40;</span>f<span class="br0">&#41;</span>;</div>
<!--end GeSHi-->
<form action="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/grabcode" method="post">
<input type="hidden" name="wakka" value="FileSequenziali/grabcode" />
<input type="submit" class="grabcode" name="save" value="Grab" title="Download" /><input type="hidden" name="filename" value="" /><input type="hidden" name="code" value="BufferedReader+b+%3D+new+BufferedReader%28f%29%3B" /></form>
<br />
<br />
<strong>Nota importante:</strong> la parte introduttiva della documentazione standard della classe <tt><a href="http://java.sun.com/javase/6/docs/api/java/io/BufferedReader.html">BufferedReader</a></tt> fornisce un esempio di creazione di un canale di lettura associato a un file (passi 1 e 2).<br />
<br />
<strong>Passo 3: lettura di stringhe dal canale di lettura</strong><br />
<br />
A questo punto, invocando ripetutamente il metodo <tt>readLine()</tt> sull'oggetto <tt>BufferedReader b</tt> si leggono una alla volta le righe del file. Quando <tt>readLine()</tt> restituisce <tt>null</tt> vuole dire che le righe del file sono state tutte lette e l'oggetto <tt>BufferedReader</tt> ha esaurito il suo scopo.<br />
<br />
Ad esempio, il seguente frammendo di codice stampa a video tutte le righe del file:<br />
<br />
<!--start GeSHi-->
<div class="code" style="font-family: monospace;"><span class="kw2">try</span> <span class="br0">&#123;</span><br />
&nbsp; &nbsp; <span class="kw1">for</span> <span class="br0">&#40;</span>;;<span class="br0">&#41;</span> <span class="br0">&#123;</span><br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AString+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a> r = b.<span class="me1">readLine</span><span class="br0">&#40;</span><span class="br0">&#41;</span>; <span class="co1">// legge la prossima riga del file</span><br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<span class="kw1">if</span> <span class="br0">&#40;</span>r == <span class="kw2">null</span><span class="br0">&#41;</span> <span class="kw2">break</span>; <span class="co1">// esce dal ciclo se le righe sono finite</span><br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3ASystem+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span>r<span class="br0">&#41;</span>; <span class="co1">// stampa a video la riga letta dal file</span><br />
&nbsp; &nbsp; <span class="br0">&#125;</span><br />
<span class="br0">&#125;</span><br />
<span class="kw2">catch</span><span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AIOException+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">IOException</span></a> e<span class="br0">&#41;</span><span class="br0">&#123;</span><br />
&nbsp; &nbsp; <span class="co1">// Errore nella lettura del file </span><br />
<span class="br0">&#125;</span></div>
<!--end GeSHi-->
<form action="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/grabcode" method="post">
<input type="hidden" name="wakka" value="FileSequenziali/grabcode" />
<input type="submit" class="grabcode" name="save" value="Grab" title="Download" /><input type="hidden" name="filename" value="" /><input type="hidden" name="code" value="try+%7B%0A%09for+%28%3B%3B%29+%7B%0A%09++++String+r+%3D+b.readLine%28%29%3B+%2F%2F+legge+la+prossima+riga+del+file%0A%09++++if+%28r+%3D%3D+null%29+break%3B+%2F%2F+esce+dal+ciclo+se+le+righe+sono+finite%0A%09++++System.out.println%28r%29%3B+%2F%2F+stampa+a+video+la+riga+letta+dal+file%0A%09%7D%0A%7D%0Acatch%28IOException+e%29%7B%0A%09%2F%2F+Errore+nella+lettura+del+file+%0A%7D" /></form>
<br />
<br />
Si noti che il metodo <tt>readLine</tt> potrebbe lanciare una eccezione verificata di tipo <tt>IOException</tt>.<br />
<br />
<strong>Passo 4: chiusura canale di input associato al file</strong><br />
<br />
Quando la lettura del file è stata ultimata, è buona norma chiudere il canale di input associato al file invocando il metodo <tt>close()</tt>:<br />
<br />
<!--start GeSHi-->
<div class="code" style="font-family: monospace;">b.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;</div>
<!--end GeSHi-->
<form action="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/grabcode" method="post">
<input type="hidden" name="wakka" value="FileSequenziali/grabcode" />
<input type="submit" class="grabcode" name="save" value="Grab" title="Download" /><input type="hidden" name="filename" value="" /><input type="hidden" name="code" value="b.close%28%29%3B" /></form>
<br />
<br />
<strong>Nota:</strong> fare attenzione a non chiamare <tt>close()</tt> su un canale <tt>BufferedReader</tt> non associato a un file, ma ad esempio al canale standard <tt>System.in</tt>.<br />
<br />
<h5>Esempio 1</h5>

<br />
Scrivere una classe pubblica <tt>LetturaFile</tt> con un metodo pubblico <tt>void stampaFile(String s)</tt> che, dato il nome di un file <tt>s</tt>, ne stampa a video tutte le righe, oppure lancia un'eccezione non verificata se si incontrano errori nella lettura.<br />
<br />
<div class="code_header">LetturaFile.java</div>
<!--start GeSHi-->
<div class="code" style="font-family: monospace;"><span class="co2">import java.io.*;</span><br />
<br />
<span class="kw2">public</span> <span class="kw2">class</span> LetturaFile <span class="br0">&#123;</span><br />
&nbsp; &nbsp; <span class="kw2">public</span> <span class="kw2">static</span> <span class="kw4">void</span> stampaFile<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AString+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a> s<span class="br0">&#41;</span><span class="br0">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3ABufferedReader+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">BufferedReader</span></a> b = <span class="kw2">null</span>;<br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw2">try</span> <span class="br0">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="co1">// apre file</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b = <span class="kw2">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3ABufferedReader+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">BufferedReader</span></a><span class="br0">&#40;</span><span class="kw2">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AFileReader+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">FileReader</span></a><span class="br0">&#40;</span>s<span class="br0">&#41;</span><span class="br0">&#41;</span>;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="co1">// legge file e scrive le righe lette su System.out</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> <span class="br0">&#40;</span>;;<span class="br0">&#41;</span> <span class="br0">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AString+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a> r = b.<span class="me1">readLine</span><span class="br0">&#40;</span><span class="br0">&#41;</span>; <span class="co1">// legge la prossima riga del file</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> <span class="br0">&#40;</span>r == <span class="kw2">null</span><span class="br0">&#41;</span> <span class="kw2">break</span>; <span class="co1">// esce dal ciclo se le righe sono finite</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3ASystem+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span>r<span class="br0">&#41;</span>; <span class="co1">// stampa a video la riga letta dal file</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="co1">// chiude il canale di input</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw2">catch</span><span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AFileNotFoundException+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">FileNotFoundException</span></a> e<span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="co1">// cattura errori prodotti da new FileReader(s)</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw2">throw</span> <span class="kw2">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3ARuntimeException+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">RuntimeException</span></a><span class="br0">&#40;</span><span class="st0">&quot;Errore: impossibile aprire il file &quot;</span> + s<span class="br0">&#41;</span>;<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw2">catch</span><span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AIOException+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">IOException</span></a> e<span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="co1">// cattura errori prodotti da readLine()</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> <span class="br0">&#40;</span>b!= <span class="kw2">null</span><span class="br0">&#41;</span> b.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw2">throw</span> <span class="kw2">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3ARuntimeException+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">RuntimeException</span></a><span class="br0">&#40;</span><span class="st0">&quot;Errore di lettura del file &quot;</span> + s<span class="br0">&#41;</span>;<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#125;</span><br />
&nbsp; &nbsp; <span class="br0">&#125;</span><br />
<span class="br0">&#125;</span></div>
<!--end GeSHi-->
<form action="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/grabcode" method="post">
<input type="hidden" name="wakka" value="FileSequenziali/grabcode" />
<input type="submit" class="grabcode" name="save" value="Grab" title="Download LetturaFile.java" /><input type="hidden" name="filename" value="LetturaFile.java" /><input type="hidden" name="code" value="import+java.io.%2A%3B%0A%0Apublic+class+LetturaFile+%7B%0A%09public+static+void+stampaFile%28String+s%29%7B%0A%09%09BufferedReader+b+%3D+null%3B%0A%09%0A%09%09try+%7B%0A%09%09%09%2F%2F+apre+file%0A%09%09%09b+%3D+new+BufferedReader%28new+FileReader%28s%29%29%3B%0A%09%09%09%09%09%0A%09%09%09%2F%2F+legge+file+e+scrive+le+righe+lette+su+System.out%0A%09%09%09for+%28%3B%3B%29+%7B%0A%09%09%09%09String+r+%3D+b.readLine%28%29%3B+%2F%2F+legge+la+prossima+riga+del+file%0A%09%09%09%09if+%28r+%3D%3D+null%29+break%3B+%2F%2F+esce+dal+ciclo+se+le+righe+sono+finite%0A%09%09%09%09System.out.println%28r%29%3B+%2F%2F+stampa+a+video+la+riga+letta+dal+file%0A%09%09%09%7D%0A%09%09%09%0A%09%09%09%2F%2F+chiude+il+canale+di+input%0A%09%09%09b.close%28%29%3B%0A%09%09%7D%0A%09%09catch%28FileNotFoundException+e%29+%7B+%2F%2F+cattura+errori+prodotti+da+new+FileReader%28s%29%0A%09%09%09throw+new+RuntimeException%28%22Errore%3A+impossibile+aprire+il+file+%22+%2B+s%29%3B%0A%09%09%7D%0A%09%09catch%28IOException+e%29+%7B+%2F%2F+cattura+errori+prodotti+da+readLine%28%29%0A%09%09%09if+%28b%21%3D+null%29+b.close%28%29%3B%0A%09%09%09throw+new+RuntimeException%28%22Errore+di+lettura+del+file+%22+%2B+s%29%3B%0A%09%09%7D%0A%09%7D%0A%7D" /></form>
<br />
Notare che <tt>FileNotFoundException</tt> è una sottoclasse di <tt>IOException</tt> e quindi togliendo il <tt>catch(FileNotFoundException e)</tt> il programma sarebbe comunque corretto, solo che darebbe lo stesso errore sia in caso di errore di apertura file (<tt>new FileReader(...)</tt>) che di lettura file (<tt>b.readLine()</tt>).<br />
<br />
Programma di prova:<br />
<br />
<!--start GeSHi-->
<div class="code" style="font-family: monospace;">&nbsp; &nbsp; <span class="kw2">public</span> <span class="kw2">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AString+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span><span class="br0">&#123;</span><br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;stampaFile<span class="br0">&#40;</span><span class="st0">&quot;LetturaFile.java&quot;</span><span class="br0">&#41;</span>;<br />
&nbsp; &nbsp; <span class="br0">&#125;</span></div>
<!--end GeSHi-->
<form action="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/grabcode" method="post">
<input type="hidden" name="wakka" value="FileSequenziali/grabcode" />
<input type="submit" class="grabcode" name="save" value="Grab" title="Download LetturaFile.java" /><input type="hidden" name="filename" value="LetturaFile.java" /><input type="hidden" name="code" value="%09public+static+void+main%28String%5B%5D+args%29%7B%0A%09++++stampaFile%28%22LetturaFile.java%22%29%3B%0A%09%7D" /></form>
<br />
<br />
<h5>Esempio 2</h5>

<br />
Una variante dell'esercizio precedente assume che il metodo non prenda come parametro un nome di file, ma un canale di lettura <tt>BufferedReader</tt> assumendo che sia stato già creato al momento dell'invocazione.<br />
<br />
Scrivere una classe pubblica <tt>LetturaFile</tt> con metodo pubblico <tt>void stampaCanaleInput(BufferedReader b)</tt> che, dato un canale di lettura <tt>b</tt>, ne stampa a video tutte le righe, oppure lancia un'eccezione non verificata se si incontrano errori nella lettura.<br />
<br />
<div class="code_header">LetturaFile.java</div>
<!--start GeSHi-->
<div class="code" style="font-family: monospace;"><span class="co2">import java.io.*;</span><br />
<br />
<span class="kw2">public</span> <span class="kw2">class</span> LetturaFile <span class="br0">&#123;</span><br />
&nbsp; &nbsp; <span class="kw2">public</span> <span class="kw2">static</span> <span class="kw4">void</span> stampaCanaleInput<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3ABufferedReader+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">BufferedReader</span></a> b<span class="br0">&#41;</span><span class="br0">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw2">try</span> <span class="br0">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="co1">// legge file e scrive le righe lette su System.out</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">for</span> <span class="br0">&#40;</span>;;<span class="br0">&#41;</span> <span class="br0">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AString+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a> r = b.<span class="me1">readLine</span><span class="br0">&#40;</span><span class="br0">&#41;</span>; <span class="co1">// legge la prossima riga del file</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> <span class="br0">&#40;</span>r == <span class="kw2">null</span><span class="br0">&#41;</span> <span class="kw2">break</span>; <span class="co1">// esce dal ciclo se le righe sono finite</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3ASystem+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span>r<span class="br0">&#41;</span>; <span class="co1">// stampa a video la riga letta dal file</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw2">catch</span><span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AIOException+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">IOException</span></a> e<span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="co1">// cattura errori prodotti da readLine()</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw2">throw</span> <span class="kw2">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3ARuntimeException+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">RuntimeException</span></a><span class="br0">&#40;</span><span class="st0">&quot;Errore di I/O&quot;</span><span class="br0">&#41;</span>;<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#125;</span><br />
&nbsp; &nbsp; <span class="br0">&#125;</span><br />
<span class="br0">&#125;</span></div>
<!--end GeSHi-->
<form action="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/grabcode" method="post">
<input type="hidden" name="wakka" value="FileSequenziali/grabcode" />
<input type="submit" class="grabcode" name="save" value="Grab" title="Download LetturaFile.java" /><input type="hidden" name="filename" value="LetturaFile.java" /><input type="hidden" name="code" value="import+java.io.%2A%3B%0A%0Apublic+class+LetturaFile+%7B%0A%09public+static+void+stampaCanaleInput%28BufferedReader+b%29%7B%0A%09%09try+%7B%0A%09%09%09%2F%2F+legge+file+e+scrive+le+righe+lette+su+System.out%0A%09%09%09for+%28%3B%3B%29+%7B%0A%09%09%09%09String+r+%3D+b.readLine%28%29%3B+%2F%2F+legge+la+prossima+riga+del+file%0A%09%09%09%09if+%28r+%3D%3D+null%29+break%3B+%2F%2F+esce+dal+ciclo+se+le+righe+sono+finite%0A%09%09%09%09System.out.println%28r%29%3B+%2F%2F+stampa+a+video+la+riga+letta+dal+file%0A%09%09%09%7D%0A%09%09%7D%0A%09%09catch%28IOException+e%29+%7B+%2F%2F+cattura+errori+prodotti+da+readLine%28%29%0A%09%09%09throw+new+RuntimeException%28%22Errore+di+I%2FO%22%29%3B%0A%09%09%7D%0A%09%7D%0A%7D" /></form>
<br />
<br />
Programma di prova:<br />
<br />
<!--start GeSHi-->
<div class="code" style="font-family: monospace;">&nbsp; &nbsp; <span class="kw2">public</span> <span class="kw2">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AString+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span><span class="br0">&#123;</span><br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3ABufferedReader+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">BufferedReader</span></a> b;<br />
<br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<span class="kw2">try</span> <span class="br0">&#123;</span> <span class="co1">// prova ad aprire il file</span><br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;b = <span class="kw2">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3ABufferedReader+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">BufferedReader</span></a><span class="br0">&#40;</span><span class="kw2">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AFileReader+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">FileReader</span></a><span class="br0">&#40;</span><span class="st0">&quot;LetturaFile.java&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;<br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<span class="br0">&#125;</span><br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<span class="kw2">catch</span><span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AFileNotFoundException+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">FileNotFoundException</span></a> e<span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="co1">// cattura errori prodotti da new FileReader()</span><br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="kw2">throw</span> <span class="kw2">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3ARuntimeException+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">RuntimeException</span></a><span class="br0">&#40;</span><span class="st0">&quot;Errore: impossibile aprire il file&quot;</span><span class="br0">&#41;</span>;<br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<span class="br0">&#125;</span><br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;stampaCanaleInput<span class="br0">&#40;</span>b<span class="br0">&#41;</span>;<br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;b.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;<br />
&nbsp; &nbsp; <span class="br0">&#125;</span></div>
<!--end GeSHi-->
<form action="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/grabcode" method="post">
<input type="hidden" name="wakka" value="FileSequenziali/grabcode" />
<input type="submit" class="grabcode" name="save" value="Grab" title="Download LetturaFile.java" /><input type="hidden" name="filename" value="LetturaFile.java" /><input type="hidden" name="code" value="%09public+static+void+main%28String%5B%5D+args%29%7B%0A%09++++BufferedReader+b%3B%0A%0A%09++++try+%7B+%2F%2F+prova+ad+aprire+il+file%0A%09++++++++b+%3D+new+BufferedReader%28new+FileReader%28%22LetturaFile.java%22%29%29%3B%0A%09++++%7D%0A%09++++catch%28FileNotFoundException+e%29+%7B+%2F%2F+cattura+errori+prodotti+da+new+FileReader%28%29%0A%09++++++++throw+new+RuntimeException%28%22Errore%3A+impossibile+aprire+il+file%22%29%3B%0A%09++++%7D%0A%09++++%0A%09++++stampaCanaleInput%28b%29%3B%0A%09++++b.close%28%29%3B%0A%09%7D" /></form>
<br />
<br />
<h5>Scrittura sequenziale di file di testo (e canali di output)</h5>

<br />
<strong>Passo 1: creazione canale di scrittura associato al file</strong><br />
<br />
Per creare un file di testo con nome <tt>miofile.txt</tt>, creare un oggetto <tt><a href="http://java.sun.com/javase/6/docs/api/java/io/PrintStream.html">java.io.PrintStream</a></tt> come segue (dopo aver importato <tt>java.io.*</tt>):<br />
<br />
<!--start GeSHi-->
<div class="code" style="font-family: monospace;"><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3APrintStream+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">PrintStream</span></a> f;<br />
<br />
<span class="kw2">try</span> <span class="br0">&#123;</span><br />
&nbsp; &nbsp; f = <span class="kw2">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3APrintStream+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">PrintStream</span></a><span class="br0">&#40;</span><span class="st0">&quot;miofile.txt&quot;</span><span class="br0">&#41;</span>;<br />
<span class="br0">&#125;</span><br />
<span class="kw2">catch</span><span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AFileNotFoundException+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">FileNotFoundException</span></a> e<span class="br0">&#41;</span><span class="br0">&#123;</span><br />
&nbsp; &nbsp; <span class="kw2">throw</span> <span class="kw2">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3ARuntimeException+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">RuntimeException</span></a><span class="br0">&#40;</span><span class="st0">&quot;errore apertura file&quot;</span><span class="br0">&#41;</span>;<br />
<span class="br0">&#125;</span></div>
<!--end GeSHi-->
<form action="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/grabcode" method="post">
<input type="hidden" name="wakka" value="FileSequenziali/grabcode" />
<input type="submit" class="grabcode" name="save" value="Grab" title="Download LetturaFile.java" /><input type="hidden" name="filename" value="LetturaFile.java" /><input type="hidden" name="code" value="PrintStream+f%3B%0A%0Atry+%7B%0A%09f+%3D+new+PrintStream%28%22miofile.txt%22%29%3B%0A%7D%0Acatch%28FileNotFoundException+e%29%7B%0A%09throw+new+RuntimeException%28%22errore+apertura+file%22%29%3B%0A%7D" /></form>
<br />
Si noti che il costruttore <tt>PrintStream(s)</tt> (si legga la <a href="http://java.sun.com/javase/6/docs/api/java/io/PrintStream.html#PrintStream(java.lang.String)">documentazione</a>):<br />
<ul><li> crea un nuovo file con il nome <tt>s</tt> se il file non esiste ancora;
</li><li> apre il file in scrittura se il file esiste, cancellandone il contenuto precedente;
</li><li> lancia una eccezione verificata <tt>FileNotFoundException</tt> se non è possibile aprire il file per la scrittura (la <a href="http://java.sun.com/javase/6/docs/api/java/io/PrintStream.html#PrintStream(java.lang.String)">documentazione</a> recita: "If the given file object does not denote an existing, writable regular file and a new regular file of that name cannot be created, or if some other error occurs while opening or creating the file").</li></ul>
<br />
<strong>Passo 2: scrittura sul canale di output associato al file</strong><br />
<br />
Da questo punto in poi, l'oggetto <tt>p</tt> può essere usato per scrivere con i metodi <tt>print</tt> e <tt>println</tt> della classe <tt>PrintStream</tt> (si noti che <tt>System.out</tt> è un oggetto <tt>PrintStream</tt>). Ad esempio:<br />
<br />
<!--start GeSHi-->
<div class="code" style="font-family: monospace;">p.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;prova scrittura su file&quot;</span><span class="br0">&#41;</span>;</div>
<!--end GeSHi-->
<form action="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/grabcode" method="post">
<input type="hidden" name="wakka" value="FileSequenziali/grabcode" />
<input type="submit" class="grabcode" name="save" value="Grab" title="Download LetturaFile.java" /><input type="hidden" name="filename" value="LetturaFile.java" /><input type="hidden" name="code" value="p.println%28%22prova+scrittura+su+file%22%29%3B" /></form>
<br />
<br />
<strong>Passo 3: chiusura canale di output associato al file</strong><br />
<br />
Quando la scrittura del file è stata ultimata, è buona norma chiudere il canale di output associato al file invocando il metodo <tt>close()</tt>:<br />
<br />
<!--start GeSHi-->
<div class="code" style="font-family: monospace;">p.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;</div>
<!--end GeSHi-->
<form action="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/grabcode" method="post">
<input type="hidden" name="wakka" value="FileSequenziali/grabcode" />
<input type="submit" class="grabcode" name="save" value="Grab" title="Download LetturaFile.java" /><input type="hidden" name="filename" value="LetturaFile.java" /><input type="hidden" name="code" value="p.close%28%29%3B" /></form>
<br />
<br />
<strong>Nota:</strong> fare attenzione a non chiamare <tt>close()</tt> su un canale <tt>PrintStream</tt> non associato a un file, ma ad esempio al canale standard <tt>System.out</tt>:<br />
<br />
<!--start GeSHi-->
<div class="code" style="font-family: monospace;"><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3APrintStream+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">PrintStream</span></a> p = <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3ASystem+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">System</span></a>.<span class="me1">out</span>; <span class="co1">// System.out è un riferimento di tipo PrintStream al terminale standard</span><br />
p.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span>; <span class="co1">// chiude il terminale di output</span><br />
<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3ASystem+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;questa stringa non verrà mai stampata&quot;</span><span class="br0">&#41;</span>;</div>
<!--end GeSHi-->
<form action="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/grabcode" method="post">
<input type="hidden" name="wakka" value="FileSequenziali/grabcode" />
<input type="submit" class="grabcode" name="save" value="Grab" title="Download LetturaFile.java" /><input type="hidden" name="filename" value="LetturaFile.java" /><input type="hidden" name="code" value="PrintStream+p+%3D+System.out%3B+%2F%2F+System.out+%E8+un+riferimento+di+tipo+PrintStream+al+terminale+standard%0Ap.close%28%29%3B+%2F%2F+chiude+il+terminale+di+output%0ASystem.out.println%28%22questa+stringa+non+verr%E0+mai+stampata%22%29%3B" /></form>
<br />
<br />
<h5>Esempio 1</h5>

<br />
Scrivere una classe pubblica <tt>ScritturaFile</tt> con un metodo pubblico <tt>void scriviSuFile(Object[] v, String s)</tt> che, dato un array <tt>v</tt> di oggetti e una stringa <tt>s</tt>, crea un file di nome <tt>s</tt> contenente le stringhe associate agli oggetti dell'array, oppure lancia un'eccezione non verificata se si incontrano errori nella scrittura del file.<br />
<br />
<div class="code_header">ScritturaFile.java</div>
<!--start GeSHi-->
<div class="code" style="font-family: monospace;"><span class="co2">import java.io.*;</span><br />
<br />
<span class="kw2">public</span> <span class="kw2">class</span> ScritturaFile <span class="br0">&#123;</span><br />
&nbsp; &nbsp; <span class="kw2">public</span> <span class="kw2">static</span> <span class="kw4">void</span> scriviSuFile<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AObject+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">Object</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span> v, <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AString+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a> s<span class="br0">&#41;</span><span class="br0">&#123;</span><br />
<br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3APrintStream+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">PrintStream</span></a> p;<br />
<br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<span class="kw2">try</span> <span class="br0">&#123;</span><br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; p = <span class="kw2">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3APrintStream+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">PrintStream</span></a><span class="br0">&#40;</span>s<span class="br0">&#41;</span>;<br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<span class="br0">&#125;</span><br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<span class="kw2">catch</span><span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AFileNotFoundException+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">FileNotFoundException</span></a> e<span class="br0">&#41;</span><span class="br0">&#123;</span><br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="kw2">throw</span> <span class="kw2">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3ARuntimeException+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">RuntimeException</span></a><span class="br0">&#40;</span><span class="st0">&quot;errore accesso file&quot;</span><span class="br0">&#41;</span>;<br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<span class="br0">&#125;</span><br />
<br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw4">int</span> i=<span class="nu0">0</span>; i&lt;v.<span class="me1">length</span>; i++<span class="br0">&#41;</span> p.<span class="me1">println</span><span class="br0">&#40;</span>v<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#41;</span>;<br />
<br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;p.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;<br />
&nbsp; &nbsp; <span class="br0">&#125;</span><br />
<br />
&nbsp; &nbsp; <span class="kw2">public</span> <span class="kw2">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AString+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span><span class="br0">&#123;</span><br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;scriviSuFile<span class="br0">&#40;</span><span class="kw2">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AString+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span><span class="br0">&#123;</span><span class="st0">&quot;uno&quot;</span>, <span class="st0">&quot;due&quot;</span>, <span class="st0">&quot;tre&quot;</span><span class="br0">&#125;</span>, <span class="st0">&quot;miofile.txt&quot;</span><span class="br0">&#41;</span>;<br />
&nbsp; &nbsp; <span class="br0">&#125;</span><br />
<span class="br0">&#125;</span></div>
<!--end GeSHi-->
<form action="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/grabcode" method="post">
<input type="hidden" name="wakka" value="FileSequenziali/grabcode" />
<input type="submit" class="grabcode" name="save" value="Grab" title="Download ScritturaFile.java" /><input type="hidden" name="filename" value="ScritturaFile.java" /><input type="hidden" name="code" value="import+java.io.%2A%3B%0A%0Apublic+class+ScritturaFile+%7B%0A%09public+static+void+scriviSuFile%28Object%5B%5D+v%2C+String+s%29%7B%0A%0A%09++++PrintStream+p%3B%0A%0A%09++++try+%7B%0A%09+++++++++p+%3D+new+PrintStream%28s%29%3B%0A%09++++%7D%0A%09++++catch%28FileNotFoundException+e%29%7B%0A%09++++++++throw+new+RuntimeException%28%22errore+accesso+file%22%29%3B%0A%09++++%7D%0A%0A%09++++for+%28int+i%3D0%3B+i%3Cv.length%3B+i%2B%2B%29+p.println%28v%5Bi%5D%29%3B%0A%0A%09++++p.close%28%29%3B%0A%09%7D%0A%0A%09public+static+void+main%28String%5B%5D+args%29%7B%0A%09++++scriviSuFile%28new+String%5B%5D%7B%22uno%22%2C+%22due%22%2C+%22tre%22%7D%2C+%22miofile.txt%22%29%3B%0A%09%7D%0A%7D" /></form>
<br />
<br />
Programma di prova:<br />
<br />
<!--start GeSHi-->
<div class="code" style="font-family: monospace;">&nbsp; &nbsp; <span class="kw2">public</span> <span class="kw2">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AString+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span><span class="br0">&#123;</span><br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;scriviSuFile<span class="br0">&#40;</span><span class="kw2">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AString+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span><span class="br0">&#123;</span><span class="st0">&quot;uno&quot;</span>, <span class="st0">&quot;due&quot;</span>, <span class="st0">&quot;tre&quot;</span><span class="br0">&#125;</span>, <span class="st0">&quot;miofile.txt&quot;</span><span class="br0">&#41;</span>;<br />
&nbsp; &nbsp; <span class="br0">&#125;</span></div>
<!--end GeSHi-->
<form action="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/grabcode" method="post">
<input type="hidden" name="wakka" value="FileSequenziali/grabcode" />
<input type="submit" class="grabcode" name="save" value="Grab" title="Download ScritturaFile.java" /><input type="hidden" name="filename" value="ScritturaFile.java" /><input type="hidden" name="code" value="%09public+static+void+main%28String%5B%5D+args%29%7B%0A%09++++scriviSuFile%28new+String%5B%5D%7B%22uno%22%2C+%22due%22%2C+%22tre%22%7D%2C+%22miofile.txt%22%29%3B%0A%09%7D" /></form>
<br />
<br />
<h5>Esempio 2</h5>

<br />
Una variante dell'esercizio precedente assume che il metodo non prenda come parametro un nome di file, ma un canale di scrittura <tt>PrintStream</tt> assumendo che sia stato già creato al momento dell'invocazione (ad esempio associandolo a un file o al terminale di output <tt>System.out</tt>).<br />
<br />
Scrivere una classe pubblica <tt>ScritturaFile</tt> con un metodo pubblico <tt>void scriviSuCanaleOutput(Object[] v, PrintStream p)</tt> che, dato un array <tt>v</tt> di oggetti e un canale di output <tt>p</tt>, scrive su quel canale le stringhe associate agli oggetti dell'array, oppure lancia un'eccezione non verificata se si incontrano errori nella scrittura del file.<br />
<br />
<div class="code_header">ScritturaFile.java</div>
<!--start GeSHi-->
<div class="code" style="font-family: monospace;"><span class="co2">import java.io.*;</span><br />
<br />
<span class="kw2">public</span> <span class="kw2">class</span> ScritturaFile <span class="br0">&#123;</span><br />
&nbsp; &nbsp; <span class="kw2">public</span> <span class="kw2">static</span> <span class="kw4">void</span> scriviSuCanaleOutput<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AObject+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">Object</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span> v, <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3APrintStream+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">PrintStream</span></a> p<span class="br0">&#41;</span><span class="br0">&#123;</span><br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw4">int</span> i=<span class="nu0">0</span>; i&lt;v.<span class="me1">length</span>; i++<span class="br0">&#41;</span> p.<span class="me1">println</span><span class="br0">&#40;</span>v<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#41;</span>;<br />
&nbsp; &nbsp; <span class="br0">&#125;</span>&nbsp; &nbsp; <br />
<span class="br0">&#125;</span></div>
<!--end GeSHi-->
<form action="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/grabcode" method="post">
<input type="hidden" name="wakka" value="FileSequenziali/grabcode" />
<input type="submit" class="grabcode" name="save" value="Grab" title="Download ScritturaFile.java" /><input type="hidden" name="filename" value="ScritturaFile.java" /><input type="hidden" name="code" value="import+java.io.%2A%3B%0A%0Apublic+class+ScritturaFile+%7B%0A%09public+static+void+scriviSuCanaleOutput%28Object%5B%5D+v%2C+PrintStream+p%29%7B%0A%09++++for+%28int+i%3D0%3B+i%3Cv.length%3B+i%2B%2B%29+p.println%28v%5Bi%5D%29%3B%0A%09%7D++++%0A%7D" /></form>
<br />
<br />
<strong>Nota importante:</strong> sarebbe errato fare <tt>p.close()</tt> perché il canale di output <tt>p</tt> potrebbe dover rimanere ancora in uso (esempio ovvio: se <tt>p==System.out</tt>).<br />
<br />
Programma di prova:<br />
<br />
<!--start GeSHi-->
<div class="code" style="font-family: monospace;">&nbsp; &nbsp; <span class="kw2">public</span> <span class="kw2">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AString+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span><span class="br0">&#123;</span><br />
&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;scriviSuCanaleOutput<span class="br0">&#40;</span><span class="kw2">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3AString+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span><span class="br0">&#123;</span><span class="st0">&quot;uno&quot;</span>, <span class="st0">&quot;due&quot;</span>, <span class="st0">&quot;tre&quot;</span><span class="br0">&#125;</span>, <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3ASystem+java.sun.com&amp;bntI=I%27m%20Feeling%20Lucky"><span class="kw3">System</span></a>.<span class="me1">out</span><span class="br0">&#41;</span>;<br />
&nbsp; &nbsp; <span class="br0">&#125;</span></div>
<!--end GeSHi-->
<form action="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/grabcode" method="post">
<input type="hidden" name="wakka" value="FileSequenziali/grabcode" />
<input type="submit" class="grabcode" name="save" value="Grab" title="Download ScritturaFile.java" /><input type="hidden" name="filename" value="ScritturaFile.java" /><input type="hidden" name="code" value="%09public+static+void+main%28String%5B%5D+args%29%7B%0A%09++++scriviSuCanaleOutput%28new+String%5B%5D%7B%22uno%22%2C+%22due%22%2C+%22tre%22%7D%2C+System.out%29%3B%0A%09%7D" /></form>
<br />
<br />
</div>
<div class="footer">
<form action="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=TextSearch" method="get">
<input type="hidden" name="wakka" value="TextSearch" />
<a href="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/history" title="Click to view recent edits to this page">Page History</a> ::
<a href="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/revisions" title="Click to view recent revisions list for this page">2009-06-10 09:32:39</a> <a href="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=FileSequenziali/revisions.xml" title="Click to view recent page revisions in XML format."><img src="images/xml.png" width="36" height="14" align="middle" style="border : 0px;" alt="XML" /></a> ::
Owner: <a href="http://www.dis.uniroma1.it/~fi/wikka.php?wakka=CamilDemetrescu">CamilDemetrescu</a> ::
 
Search: <input name="phrase" size="15" class="searchbox" />
</form>
</div>

<div class="smallprint">
<a class="ext" href="http://validator.w3.org/check/referer">Valid XHTML 1.0 Transitional</a><span class="exttail">&#8734;</span> ::
<a class="ext" href="http://jigsaw.w3.org/css-validator/check/referer">Valid CSS</a><span class="exttail">&#8734;</span> ::
Powered by <a class="ext" href="http://wikkawiki.org/">Wikka Wakka Wiki 1.1.6.3</a><span class="exttail">&#8734;</span></div>

<div class="smallprint">Page was generated in 0.4070 seconds</div>
</body>
</html>